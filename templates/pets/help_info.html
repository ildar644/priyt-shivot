{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–∞–∫ –ø–æ–º–æ—á—å –ø—Ä–∏—é—Ç—É? - –ü–∏—Ç–æ–º—Ü—ã –∏–∑ –ø—Ä–∏—é—Ç–∞</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body>
    <div class="container">
        {% include 'includes/nav.html' %}

        <div class="pet-detail-container">
            <a href="{% url 'pet_list' %}" class="back-btn">‚Üê –ù–∞–∑–∞–¥ –∫ –ø–∏—Ç–æ–º—Ü–∞–º</a>

            <div class="header">
                <h1>ü§ù –ö–∞–∫ –ø–æ–º–æ—á—å –ø—Ä–∏—é—Ç—É?</h1>
                <p>–ö–∞–∂–¥–∞—è –ø–æ–º–æ—â—å –≤–∞–∂–Ω–∞ –¥–ª—è –Ω–∞—à–∏—Ö —á–µ—Ç–≤–µ—Ä–æ–Ω–æ–≥–∏—Ö –¥—Ä—É–∑–µ–π</p>
            </div>

            <!-- –ë–∞–Ω–∫–æ–≤—Å–∫–∏–µ —Ä–µ–∫–≤–∏–∑–∏—Ç—ã -->
            {% if payment_methods %}
            <div class="section payment-section">
                <h2>üí≥ –°–ø–æ—Å–æ–±—ã –ø–æ–º–æ—â–∏ –ø—Ä–∏—é—Ç—É</h2>
                <div class="payment-methods">
                    {% for payment in payment_methods %}
                        <div class="payment-card">
                            <h3>
                                {% if payment.payment_type == 'bank' %}üè¶
                                {% elif payment.payment_type == 'card' %}üí≥
                                {% elif payment.payment_type == 'sbp' %}üì±
                                {% elif payment.payment_type == 'wallet' %}üåê
                                {% endif %}
                                {{ payment.title }}
                            </h3>
                            
                            {% if payment.payment_type == 'bank' %}
                                <div class="bank-details">
                                    {% if payment.recipient_name %}<div class="detail-item"><strong>–ü–æ–ª—É—á–∞—Ç–µ–ª—å:</strong> {{ payment.recipient_name }}</div>{% endif %}
                                    {% if payment.inn %}<div class="detail-item"><strong>–ò–ù–ù:</strong> {{ payment.inn }}</div>{% endif %}
                                    {% if payment.kpp %}<div class="detail-item"><strong>–ö–ü–ü:</strong> {{ payment.kpp }}</div>{% endif %}
                                    {% if payment.account_number %}<div class="detail-item"><strong>–†–∞—Å—á–µ—Ç–Ω—ã–π —Å—á–µ—Ç:</strong> {{ payment.account_number }}</div>{% endif %}
                                    {% if payment.bank_name %}<div class="detail-item"><strong>–ë–∞–Ω–∫:</strong> {{ payment.bank_name }}</div>{% endif %}
                                    {% if payment.bik %}<div class="detail-item"><strong>–ë–ò–ö:</strong> {{ payment.bik }}</div>{% endif %}
                                    {% if payment.payment_purpose %}<div class="detail-item"><strong>–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø–ª–∞—Ç–µ–∂–∞:</strong> {{ payment.payment_purpose }}</div>{% endif %}
                                </div>
                            {% elif payment.payment_type == 'card' %}
                                {% if payment.card_number %}<div class="card-number">{{ payment.card_number }}</div>{% endif %}
                                {% if payment.card_holder %}<div class="card-holder">{{ payment.card_holder }}</div>{% endif %}
                            {% elif payment.payment_type == 'sbp' %}
                                {% if payment.phone_number %}<div class="sbp-number">{{ payment.phone_number }}</div>{% endif %}
                                <p>–ü–µ—Ä–µ–≤–æ–¥—ã –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ —á–µ—Ä–µ–∑ –ª—é–±–æ–π –±–∞–Ω–∫</p>
                            {% elif payment.payment_type == 'wallet' %}
                                {% if payment.card_number %}
                                    <div class="wallet-item">
                                        <strong>{{ payment.title }}:</strong> {{ payment.card_number }}
                                    </div>
                                {% endif %}
                            {% endif %}
                            
                            {% if payment.description %}
                                <p class="payment-description">{{ payment.description }}</p>
                            {% endif %}
                            
                            <button class="copy-btn" onclick="copyPaymentInfo('{{ payment.get_copy_text|escapejs }}', '{{ payment.title }} —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω!')">
                                üìã –ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                        </div>
                    {% endfor %}
                </div>
            </div>
            {% endif %}

            <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–º–æ—â–∏ -->
            {% if help_items %}
                {% for item in help_items %}
                    <div class="section">
                        <h2>{{ item.title }}</h2>
                        <p>{{ item.content|linebreaks }}</p>
                    </div>
                {% endfor %}
            {% endif %}

            <!-- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è -->
            <div class="section">
                <h2>üìã –û—Ç—á–µ—Ç–Ω–æ—Å—Ç—å</h2>
                <p>–ú—ã –≤–µ–¥–µ–º –ø–æ–ª–Ω—É—é –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å –ø–æ –≤—Å–µ–º –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è–º. –ö–∞–∂–¥—ã–π –º–µ—Å—è—Ü –ø—É–±–ª–∏–∫—É–µ–º –æ—Ç—á–µ—Ç –æ –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—Å—Ç–≤–∞—Ö –Ω–∞ –Ω–∞—à–µ–º —Å–∞–π—Ç–µ –∏ –≤ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç—è—Ö.</p>
                <p><strong>–í—Å–µ –ø–æ–∂–µ—Ä—Ç–≤–æ–≤–∞–Ω–∏—è –∏–¥—É—Ç –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω–æ –Ω–∞:</strong></p>
                <ul>
                    <li>–ö–æ—Ä–º –∏ –≤–∏—Ç–∞–º–∏–Ω—ã –¥–ª—è –∂–∏–≤–æ—Ç–Ω—ã—Ö</li>
                    <li>–í–µ—Ç–µ—Ä–∏–Ω–∞—Ä–Ω–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ</li>
                    <li>–õ–µ–∫–∞—Ä—Å—Ç–≤–∞ –∏ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—ã</li>
                    <li>–°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø—Ä–∏—é—Ç–∞ (–∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ —É—Å–ª—É–≥–∏)</li>
                    <li>–ò–≥—Ä—É—à–∫–∏ –∏ –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã –¥–ª—è –ø–∏—Ç–æ–º—Ü–µ–≤</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        function copyToClipboard(text, message) {
            navigator.clipboard.writeText(text).then(function() {
                alert(message);
            }).catch(function() {
                // Fallback –¥–ª—è —Å—Ç–∞—Ä—ã—Ö –±—Ä–∞—É–∑–µ—Ä–æ–≤
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert(message);
            });
        }

        function copyPaymentInfo(text, message) {
            copyToClipboard(text, message);
        }
    </script></body>
</html>
